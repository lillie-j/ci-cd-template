name: 'Run Tests (Pytest)'
description: Runs all tests in ./tests using the Pytest Framework. Outputs a Coverage Report (HTML) as an artifact.
runs:
  using: "composite"
  steps:
  - name: Run Tests
    shell: bash
    run: $GITHUB_ACTION_PATH/scripts/run_tests.sh

  - name: Upload Test Coverage Report
    uses: actions/upload-artifact@v4
    with:
      name: coverage_report-${{ github.ref_name }}-${{ github.run_id}}
      path: htmlcov/
      if-no-files-found: ignore
